var spawn = require('child_process').spawn,
	fs = require('fs'),
	path = require('path');


var getNewDate = function(){
	var date = new Date;
	return date.getDate() + '_' + date.getMonth() + '_' + date.getFullYear() + '_';
}

var copy = function(fileName){
	spawn('cmd', ['/$', '/C', 'copy', fileName, getNewDate()+fileName]);
}

var del = function(fileName){
	spawn('cmd', [ '/$', '/C', 'del', fileName ]);
	del.stdout.pipe(process.stdout);
}

var getAllFileNames = function(dirName){
	var fileNames = '';

	fs.readdir(dirName, function(err, files){
		for(var item in files){
			
			if(path.extname(files[item]) === '.txt'){
				fileNames += ' '+files[item]+'';
			}

		}
		console.log(fileNames);
	});
}

exports.copy = copy;
exports.del = del;
exports.getAllFileNames = getAllFileNames;